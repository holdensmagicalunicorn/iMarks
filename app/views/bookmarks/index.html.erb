
<table>
	<caption class="paginator">
		<% form_tag request.path, :method => 'get' do %>
		  <% content_tag :label do %>
			<nobr>
		    	<u>Search:</u> <u>by URL</u>
		    	<%= text_field_tag :search_by_url, params[:search_by_url] %>
			</nobr>
		  <% end %>
		<% end %>
		<nobr>
			<u>Page:</u>
			<%-
			# http://www.tricksonrails.com/2010/04/rails3-and-will_paginate-doing-easy-remote-links-rails3-tricks-02/ =end
			-%>
			<%= will_paginate @bookmarks, :javascript => "('.pagination a').attr('data-remote', 'true')" %>
		</nobr>
	</caption>
	<tr>
		<th><%= sortable 'url', 'URL' %></th>
		<th><%= sortable 'tag_names', 'Tags' %></th>
		<th><%= sortable 'updated_at', 'Date' %></th>
		<th></th>
	</tr>
	<%- @bookmarks.each do |bookmark| -%>
	<tr>
		<td><a href="<%= bookmark.url %>"><%= bookmark.url %></a></td>
		<td style="width: 33em">
		<%- unless bookmark.tags.empty? -%>
		<ul>
			<%- bookmark.tags.each do |tag| -%>
			<li><a href="?utf8=âœ“&amp;search_by_tags=<%= tag.name %>"><%= tag.name %></a></li>
			<%- end -%>
		</ul>
		<%- end -%>
		</td>
		<td style="width: 11em"><%= bookmark.updated_at.strftime("%Y-%m-%d %H:%M") %></td>
		<td class="actions" style="width: 11em">
			<%= link_to raw('&#x2614'), bookmark %>
			<%= link_to raw('&#x270e;'), edit_bookmark_path(bookmark) %>
			<%= button_to 'X', bookmark, :confirm => 'Are you sure?', :method => :delete %>
		</td>
	</tr>
	<%- end -%>
</table>
<br>
<%= link_to 'New Bookmark', new_bookmark_path %>

<hr />
-- TODO: WEIGHTED TAG CLOUD HERE --